2025-11-16 18:52:14,739 - __main__ - INFO - ================================================================================
2025-11-16 18:52:14,740 - __main__ - INFO - D…BUT DE L'ENTRAŒNEMENT DU MOD»LE XGBOOST
2025-11-16 18:52:14,740 - __main__ - INFO - ================================================================================
2025-11-16 18:52:14,759 - __main__ - INFO - Initialisation du XGBoostOccupancyPredictor
2025-11-16 18:52:14,759 - __main__ - INFO - Configuration: {'clustering_results_path': '../results/clustering_results.csv', 'indicateurs_path': '../data/Indicateurs.csv', 'prediction_horizon': 7, 'test_size': 0.2, 'random_state': 42, 'model_params': {'n_estimators': 600, 'learning_rate': 0.05, 'max_depth': 7, 'subsample': 0.9, 'colsample_bytree': 0.9, 'min_child_weight': 1, 'reg_lambda': 1.0, 'n_jobs': -1, 'random_state': 42}, 'azure_container': 'prediction-demande', 'save_to_azure': True, 'model_dir': '/results/models'}
2025-11-16 18:52:14,760 - __main__ - INFO - Chargement des donnÈes...
2025-11-16 18:52:14,796 - __main__ - INFO - Clusters chargÈs: (1415, 65)
2025-11-16 18:52:14,877 - __main__ - INFO - Indicateurs chargÈs: (86315, 15)
2025-11-16 18:52:14,877 - __main__ - INFO - PrÈparation des donnÈes...
2025-11-16 18:52:14,941 - __main__ - INFO - PM pivot shape: (1415, 63)
2025-11-16 18:52:14,944 - __main__ - INFO - DataFrame fusionnÈ: (1415, 126)
2025-11-16 18:52:15,746 - __main__ - INFO - Features PM ajoutÈes: (1415, 133)
2025-11-16 18:52:15,750 - __main__ - INFO - CrÈation des features et target...
2025-11-16 18:52:15,750 - __main__ - INFO - Nombre de features: 64
2025-11-16 18:52:15,753 - __main__ - INFO - X shape: (1415, 64), y shape: (1415,)
2025-11-16 18:52:15,753 - __main__ - INFO - EntraÓnement du modËle XGBoost...
2025-11-16 18:52:15,758 - __main__ - INFO - Train: (1132, 64), Test: (283, 64)
2025-11-16 18:52:18,109 - __main__ - INFO - ModËle entraÓnÈ avec succËs
2025-11-16 18:52:18,132 - __main__ - INFO - …valuation du modËle...
2025-11-16 18:52:19,829 - __main__ - INFO - Sauvegarde locale du modËle dans /results/models...
2025-11-16 18:52:19,878 - __main__ - INFO - Sauvegarde dans Azure Blob Storage (container: prediction-demande)...
2025-11-16 18:52:19,912 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande?restype=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-version': 'REDACTED'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'ff56c7cc-c314-11f0-8599-40c73c3d51f2'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-11-16 18:52:20,499 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 404
Response headers:
    'Content-Length': '225'
    'Content-Type': 'application/xml'
    'Vary': 'REDACTED'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '6752758d-401e-007e-8021-571e46000000'
    'x-ms-client-request-id': 'ff56c7cc-c314-11f0-8599-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-error-code': 'ContainerNotFound'
    'Date': 'Sun, 16 Nov 2025 17:52:20 GMT'
2025-11-16 18:52:20,501 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande?restype=REDACTED'
Request method: 'PUT'
Request headers:
    'x-ms-version': 'REDACTED'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'ffb09465-c314-11f0-9c73-40c73c3d51f2'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-11-16 18:52:20,520 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:20 GMT'
    'ETag': '"0x8DE2538E40FA941"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '6752759c-401e-007e-0c21-571e46000000'
    'x-ms-client-request-id': 'ffb09465-c314-11f0-9c73-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:52:20 GMT'
2025-11-16 18:52:20,521 - __main__ - INFO - Container prediction-demande crÈÈ
2025-11-16 18:52:20,526 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185220/xgb_to_predictor.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2605191'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'ffb46350-c314-11f0-ad94-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:52:20,960 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:21 GMT'
    'ETag': '"0x8DE2538E4536008"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '675275a6-401e-007e-1521-571e46000000'
    'x-ms-client-request-id': 'ffb46350-c314-11f0-ad94-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:52:21 GMT'
2025-11-16 18:52:20,965 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185220/xgb_scaler.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2919'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'fff7729b-c314-11f0-badd-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:52:20,979 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:21 GMT'
    'ETag': '"0x8DE2538E456DE96"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '67527631-401e-007e-0d21-571e46000000'
    'x-ms-client-request-id': 'fff7729b-c314-11f0-badd-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:52:21 GMT'
2025-11-16 18:52:20,985 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185220/feature_columns.txt'
Request method: 'PUT'
Request headers:
    'Content-Length': '454'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'fffa693d-c314-11f0-9ed7-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:52:21,001 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:21 GMT'
    'ETag': '"0x8DE2538E459E862"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '67527643-401e-007e-1e21-571e46000000'
    'x-ms-client-request-id': 'fffa693d-c314-11f0-9ed7-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:52:21 GMT'
2025-11-16 18:52:21,006 - __main__ - INFO - ================================================================================
2025-11-16 18:52:21,008 - __main__ - INFO - ================================================================================
2025-11-16 18:52:21,009 - __main__ - INFO -    Train MAE: 0.0005
2025-11-16 18:52:21,009 - __main__ - INFO -    Train R≤:  1.0000
2025-11-16 18:52:21,009 - __main__ - INFO -    Test MAE:  0.0560
2025-11-16 18:52:21,009 - __main__ - INFO -    Test R≤:   0.8265
2025-11-16 18:54:22,719 - __main__ - INFO - ================================================================================
2025-11-16 18:54:22,719 - __main__ - INFO - D√âBUT DE L'ENTRA√éNEMENT DU MOD√àLE XGBOOST
2025-11-16 18:54:22,719 - __main__ - INFO - ================================================================================
2025-11-16 18:54:22,720 - __main__ - INFO - ‚úÖ Fichier .env d√©tect√© et charg√©
2025-11-16 18:54:22,720 - __main__ - INFO - ‚ÑπÔ∏è  Utilisation de la configuration par d√©faut
2025-11-16 18:54:22,720 - __main__ - INFO - Initialisation du XGBoostOccupancyPredictor
2025-11-16 18:54:22,720 - __main__ - INFO - Configuration: {'clustering_results_path': '../results/clustering_results.csv', 'indicateurs_path': '../data/Indicateurs.csv', 'prediction_horizon': 7, 'test_size': 0.2, 'random_state': 42, 'model_params': {'n_estimators': 600, 'learning_rate': 0.05, 'max_depth': 7, 'subsample': 0.9, 'colsample_bytree': 0.9, 'min_child_weight': 1, 'reg_lambda': 1.0, 'n_jobs': -1, 'random_state': 42}, 'azure_container': 'prediction-demande', 'save_to_azure': True, 'model_dir': '/results/models'}
2025-11-16 18:54:22,720 - __main__ - INFO - Chargement des donn√©es...
2025-11-16 18:54:22,748 - __main__ - INFO - Clusters charg√©s: (1415, 65)
2025-11-16 18:54:22,836 - __main__ - INFO - Indicateurs charg√©s: (86315, 15)
2025-11-16 18:54:22,837 - __main__ - INFO - Pr√©paration des donn√©es...
2025-11-16 18:54:22,896 - __main__ - INFO - PM pivot shape: (1415, 63)
2025-11-16 18:54:22,901 - __main__ - INFO - DataFrame fusionn√©: (1415, 126)
2025-11-16 18:54:23,849 - __main__ - INFO - Features PM ajout√©es: (1415, 133)
2025-11-16 18:54:23,852 - __main__ - INFO - Cr√©ation des features et target...
2025-11-16 18:54:23,852 - __main__ - INFO - Nombre de features: 64
2025-11-16 18:54:23,856 - __main__ - INFO - X shape: (1415, 64), y shape: (1415,)
2025-11-16 18:54:23,856 - __main__ - INFO - Entra√Ænement du mod√®le XGBoost...
2025-11-16 18:54:23,861 - __main__ - INFO - Train: (1132, 64), Test: (283, 64)
2025-11-16 18:54:27,775 - __main__ - INFO - Mod√®le entra√Æn√© avec succ√®s
2025-11-16 18:54:27,795 - __main__ - INFO - üìä Test MAE: 0.0560
2025-11-16 18:54:27,795 - __main__ - INFO - üìä Test R¬≤: 0.8265
2025-11-16 18:54:27,796 - __main__ - INFO - √âvaluation du mod√®le...
2025-11-16 18:54:28,710 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_scatter_plot.png
2025-11-16 18:54:29,268 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_feature_importance.png
2025-11-16 18:54:29,281 - __main__ - INFO - Sauvegarde locale du mod√®le dans /results/models...
2025-11-16 18:54:29,330 - __main__ - INFO - üíæ Mod√®le sauvegard√©: /results/models\xgb_to_predictor.joblib
2025-11-16 18:54:29,331 - __main__ - INFO - üíæ Scaler sauvegard√©: /results/models\xgb_scaler.joblib
2025-11-16 18:54:29,331 - __main__ - INFO - üíæ Features sauvegard√©es: /results/models\feature_columns.txt
2025-11-16 18:54:29,331 - __main__ - INFO - Sauvegarde dans Azure Blob Storage (container: prediction-demande)...
2025-11-16 18:54:29,385 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande?restype=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-version': 'REDACTED'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': '4c82b285-c315-11f0-8e23-40c73c3d51f2'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-11-16 18:54:29,947 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '0'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:20 GMT'
    'ETag': '"0x8DE2538E40FA941"'
    'Vary': 'REDACTED'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '40dfab5d-d01e-0072-4722-578fe9000000'
    'x-ms-client-request-id': '4c82b285-c315-11f0-8e23-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-lease-status': 'REDACTED'
    'x-ms-lease-state': 'REDACTED'
    'x-ms-has-immutability-policy': 'REDACTED'
    'x-ms-has-legal-hold': 'REDACTED'
    'x-ms-immutable-storage-with-versioning-enabled': 'REDACTED'
    'x-ms-default-encryption-scope': 'REDACTED'
    'x-ms-deny-encryption-scope-override': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:54:29 GMT'
2025-11-16 18:54:29,951 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185429/xgb_to_predictor.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2605191'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': '4cd9305e-c315-11f0-9665-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:54:30,528 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:54:30 GMT'
    'ETag': '"0x8DE2539318E01BD"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '40dfab67-d01e-0072-4f22-578fe9000000'
    'x-ms-client-request-id': '4cd9305e-c315-11f0-9665-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:54:30 GMT'
2025-11-16 18:54:30,529 - __main__ - INFO - ‚òÅÔ∏è Fichier upload√©: models/20251116_185429/xgb_to_predictor.joblib
2025-11-16 18:54:30,531 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185429/xgb_scaler.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2919'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': '4d31b503-c315-11f0-86e3-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:54:30,551 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:54:30 GMT'
    'ETag': '"0x8DE253931913280"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '40dfabfa-d01e-0072-5022-578fe9000000'
    'x-ms-client-request-id': '4d31b503-c315-11f0-86e3-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:54:30 GMT'
2025-11-16 18:54:30,552 - __main__ - INFO - ‚òÅÔ∏è Fichier upload√©: models/20251116_185429/xgb_scaler.joblib
2025-11-16 18:54:30,555 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185429/feature_columns.txt'
Request method: 'PUT'
Request headers:
    'Content-Length': '454'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': '4d35374e-c315-11f0-ae22-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:54:30,575 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:54:30 GMT'
    'ETag': '"0x8DE25393194B107"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': '40dfac01-d01e-0072-5722-578fe9000000'
    'x-ms-client-request-id': '4d35374e-c315-11f0-ae22-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:54:30 GMT'
2025-11-16 18:54:30,576 - __main__ - INFO - ‚òÅÔ∏è Fichier upload√©: models/20251116_185429/feature_columns.txt
2025-11-16 18:54:30,576 - __main__ - INFO - ‚úÖ Sauvegarde Azure termin√©e avec succ√®s
2025-11-16 18:54:30,578 - __main__ - INFO - ================================================================================
2025-11-16 18:54:30,578 - __main__ - INFO - ‚úÖ ENTRA√éNEMENT TERMIN√â AVEC SUCC√àS
2025-11-16 18:54:30,578 - __main__ - INFO - ================================================================================
2025-11-16 18:54:30,578 - __main__ - INFO - 
üìä M√âTRIQUES FINALES:
2025-11-16 18:54:30,578 - __main__ - INFO -    Train MAE: 0.0005
2025-11-16 18:54:30,579 - __main__ - INFO -    Train R¬≤:  1.0000
2025-11-16 18:54:30,579 - __main__ - INFO -    Test MAE:  0.0560
2025-11-16 18:54:30,579 - __main__ - INFO -    Test R¬≤:   0.8265
2025-11-16 18:56:57,786 - __main__ - INFO - ================================================================================
2025-11-16 18:56:57,786 - __main__ - INFO - D√âBUT DE L'ENTRA√éNEMENT DU MOD√àLE XGBOOST
2025-11-16 18:56:57,786 - __main__ - INFO - ================================================================================
2025-11-16 18:56:57,787 - __main__ - INFO - ‚úÖ Fichier .env d√©tect√© et charg√©
2025-11-16 18:56:57,787 - __main__ - INFO - ‚ÑπÔ∏è  Utilisation de la configuration par d√©faut
2025-11-16 18:56:57,787 - __main__ - INFO - Initialisation du XGBoostOccupancyPredictor
2025-11-16 18:56:57,787 - __main__ - INFO - Configuration: {'clustering_results_path': '../results/clustering_results.csv', 'indicateurs_path': '../data/Indicateurs.csv', 'prediction_horizon': 7, 'test_size': 0.2, 'random_state': 42, 'model_params': {'n_estimators': 600, 'learning_rate': 0.05, 'max_depth': 7, 'subsample': 0.9, 'colsample_bytree': 0.9, 'min_child_weight': 1, 'reg_lambda': 1.0, 'n_jobs': -1, 'random_state': 42}, 'azure_container': 'prediction-demande', 'save_to_azure': True, 'model_dir': '/results/models'}
2025-11-16 18:56:57,787 - __main__ - INFO - Chargement des donn√©es...
2025-11-16 18:56:57,812 - __main__ - INFO - Clusters charg√©s: (1415, 65)
2025-11-16 18:56:57,898 - __main__ - INFO - Indicateurs charg√©s: (86315, 15)
2025-11-16 18:56:57,898 - __main__ - INFO - Pr√©paration des donn√©es...
2025-11-16 18:56:57,955 - __main__ - INFO - PM pivot shape: (1415, 63)
2025-11-16 18:56:57,957 - __main__ - INFO - DataFrame fusionn√©: (1415, 126)
2025-11-16 18:56:58,827 - __main__ - INFO - Features PM ajout√©es: (1415, 133)
2025-11-16 18:56:58,830 - __main__ - INFO - Cr√©ation des features et target...
2025-11-16 18:56:58,830 - __main__ - INFO - Nombre de features: 64
2025-11-16 18:56:58,833 - __main__ - INFO - X shape: (1415, 64), y shape: (1415,)
2025-11-16 18:56:58,833 - __main__ - INFO - Entra√Ænement du mod√®le XGBoost...
2025-11-16 18:56:58,836 - __main__ - INFO - Train: (1132, 64), Test: (283, 64)
2025-11-16 18:57:02,036 - __main__ - INFO - Mod√®le entra√Æn√© avec succ√®s
2025-11-16 18:57:02,052 - __main__ - INFO - üìä Test MAE: 0.0560
2025-11-16 18:57:02,052 - __main__ - INFO - üìä Test R¬≤: 0.8265
2025-11-16 18:57:02,053 - __main__ - INFO - √âvaluation du mod√®le...
2025-11-16 18:57:02,777 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_scatter_plot.png
2025-11-16 18:57:03,145 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_feature_importance.png
2025-11-16 18:57:03,155 - __main__ - INFO - Sauvegarde locale du mod√®le dans /results/models...
2025-11-16 18:57:03,196 - __main__ - INFO - üíæ Mod√®le sauvegard√©: /results/models\xgb_to_predictor.joblib
2025-11-16 18:57:03,196 - __main__ - INFO - üíæ Scaler sauvegard√©: /results/models\xgb_scaler.joblib
2025-11-16 18:57:03,196 - __main__ - INFO - üíæ Features sauvegard√©es: /results/models\feature_columns.txt
2025-11-16 18:57:03,225 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande?restype=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-version': 'REDACTED'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'a834e7cd-c315-11f0-abd8-40c73c3d51f2'
    'Authorization': 'REDACTED'
No body was attached to the request
2025-11-16 18:57:03,739 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '0'
    'Last-Modified': 'Sun, 16 Nov 2025 17:52:20 GMT'
    'ETag': '"0x8DE2538E40FA941"'
    'Vary': 'REDACTED'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': 'c9e75275-701e-0038-1522-572ac1000000'
    'x-ms-client-request-id': 'a834e7cd-c315-11f0-abd8-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-lease-status': 'REDACTED'
    'x-ms-lease-state': 'REDACTED'
    'x-ms-has-immutability-policy': 'REDACTED'
    'x-ms-has-legal-hold': 'REDACTED'
    'x-ms-immutable-storage-with-versioning-enabled': 'REDACTED'
    'x-ms-default-encryption-scope': 'REDACTED'
    'x-ms-deny-encryption-scope-override': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:57:03 GMT'
2025-11-16 18:57:03,742 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185703/xgb_to_predictor.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2605191'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'a883caf1-c315-11f0-b173-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:57:04,621 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:57:04 GMT'
    'ETag': '"0x8DE25398D66B6AE"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': 'c9e75280-701e-0038-1c22-572ac1000000'
    'x-ms-client-request-id': 'a883caf1-c315-11f0-b173-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:57:04 GMT'
2025-11-16 18:57:04,624 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185703/xgb_scaler.joblib'
Request method: 'PUT'
Request headers:
    'Content-Length': '2919'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'a90a6984-c315-11f0-9231-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:57:04,640 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:57:04 GMT'
    'ETag': '"0x8DE25398D69E771"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': 'c9e753d9-701e-0038-5222-572ac1000000'
    'x-ms-client-request-id': 'a90a6984-c315-11f0-9231-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:57:04 GMT'
2025-11-16 18:57:04,642 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://airm.blob.core.windows.net/prediction-demande/models/20251116_185703/feature_columns.txt'
Request method: 'PUT'
Request headers:
    'Content-Length': '454'
    'x-ms-blob-type': 'REDACTED'
    'x-ms-version': 'REDACTED'
    'Content-Type': 'application/octet-stream'
    'Accept': 'application/xml'
    'User-Agent': 'azsdk-python-storage-blob/12.26.0 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
    'x-ms-date': 'REDACTED'
    'x-ms-client-request-id': 'a90d2d27-c315-11f0-8dcb-40c73c3d51f2'
    'Authorization': 'REDACTED'
A body is sent with the request
2025-11-16 18:57:04,663 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Content-Length': '0'
    'Content-MD5': 'REDACTED'
    'Last-Modified': 'Sun, 16 Nov 2025 17:57:04 GMT'
    'ETag': '"0x8DE25398D6CA382"'
    'Server': 'Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0'
    'x-ms-request-id': 'c9e753e0-701e-0038-5822-572ac1000000'
    'x-ms-client-request-id': 'a90d2d27-c315-11f0-8dcb-40c73c3d51f2'
    'x-ms-version': 'REDACTED'
    'x-ms-content-crc64': 'REDACTED'
    'x-ms-request-server-encrypted': 'REDACTED'
    'Date': 'Sun, 16 Nov 2025 17:57:04 GMT'
2025-11-16 18:57:04,666 - __main__ - INFO - ================================================================================
2025-11-16 18:57:04,666 - __main__ - INFO - ‚úÖ ENTRA√éNEMENT TERMIN√â AVEC SUCC√àS
2025-11-16 18:57:04,666 - __main__ - INFO - ================================================================================
2025-11-16 18:57:04,667 - __main__ - INFO - 
üìä M√âTRIQUES FINALES:
2025-11-16 18:57:04,667 - __main__ - INFO -    Train MAE: 0.0005
2025-11-16 18:57:04,667 - __main__ - INFO -    Train R¬≤:  1.0000
2025-11-16 18:57:04,667 - __main__ - INFO -    Test MAE:  0.0560
2025-11-16 18:57:04,668 - __main__ - INFO -    Test R¬≤:   0.8265
2025-11-16 18:58:05,063 - __main__ - INFO - ================================================================================
2025-11-16 18:58:05,064 - __main__ - INFO - D√âBUT DE L'ENTRA√éNEMENT DU MOD√àLE XGBOOST
2025-11-16 18:58:05,064 - __main__ - INFO - ================================================================================
2025-11-16 18:58:05,064 - __main__ - INFO - ‚úÖ Fichier .env d√©tect√© et charg√©
2025-11-16 18:58:05,065 - __main__ - INFO - ‚ÑπÔ∏è  Utilisation de la configuration par d√©faut
2025-11-16 18:58:05,065 - __main__ - INFO - Initialisation du XGBoostOccupancyPredictor
2025-11-16 18:58:05,065 - __main__ - INFO - Configuration: {'clustering_results_path': '../results/clustering_results.csv', 'indicateurs_path': '../data/Indicateurs.csv', 'prediction_horizon': 7, 'test_size': 0.2, 'random_state': 42, 'model_params': {'n_estimators': 600, 'learning_rate': 0.05, 'max_depth': 7, 'subsample': 0.9, 'colsample_bytree': 0.9, 'min_child_weight': 1, 'reg_lambda': 1.0, 'n_jobs': -1, 'random_state': 42}, 'azure_container': 'prediction-demande', 'save_to_azure': True, 'model_dir': '/results/models'}
2025-11-16 18:58:05,065 - __main__ - INFO - Chargement des donn√©es...
2025-11-16 18:58:05,091 - __main__ - INFO - Clusters charg√©s: (1415, 65)
2025-11-16 18:58:05,170 - __main__ - INFO - Indicateurs charg√©s: (86315, 15)
2025-11-16 18:58:05,170 - __main__ - INFO - Pr√©paration des donn√©es...
2025-11-16 18:58:05,227 - __main__ - INFO - PM pivot shape: (1415, 63)
2025-11-16 18:58:05,229 - __main__ - INFO - DataFrame fusionn√©: (1415, 126)
2025-11-16 18:58:06,024 - __main__ - INFO - Features PM ajout√©es: (1415, 133)
2025-11-16 18:58:06,028 - __main__ - INFO - Cr√©ation des features et target...
2025-11-16 18:58:06,028 - __main__ - INFO - Nombre de features: 64
2025-11-16 18:58:06,030 - __main__ - INFO - X shape: (1415, 64), y shape: (1415,)
2025-11-16 18:58:06,030 - __main__ - INFO - Entra√Ænement du mod√®le XGBoost...
2025-11-16 18:58:06,036 - __main__ - INFO - Train: (1132, 64), Test: (283, 64)
2025-11-16 18:58:08,553 - __main__ - INFO - Mod√®le entra√Æn√© avec succ√®s
2025-11-16 18:58:08,567 - __main__ - INFO - üìä Test MAE: 0.0560
2025-11-16 18:58:08,568 - __main__ - INFO - üìä Test R¬≤: 0.8265
2025-11-16 18:58:08,568 - __main__ - INFO - √âvaluation du mod√®le...
2025-11-16 18:58:09,322 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_scatter_plot.png
2025-11-16 18:58:09,782 - __main__ - INFO - üìà Graphique sauvegard√©: /results/xgb_feature_importance.png
2025-11-16 18:58:09,797 - __main__ - INFO - Sauvegarde locale du mod√®le dans /results/models...
2025-11-16 18:58:09,837 - __main__ - INFO - üíæ Mod√®le sauvegard√©: /results/models\xgb_to_predictor.joblib
2025-11-16 18:58:09,837 - __main__ - INFO - üíæ Scaler sauvegard√©: /results/models\xgb_scaler.joblib
2025-11-16 18:58:09,837 - __main__ - INFO - üíæ Features sauvegard√©es: /results/models\feature_columns.txt
2025-11-16 18:58:11,014 - __main__ - INFO - ================================================================================
2025-11-16 18:58:11,014 - __main__ - INFO - ‚úÖ ENTRA√éNEMENT TERMIN√â AVEC SUCC√àS
2025-11-16 18:58:11,014 - __main__ - INFO - ================================================================================
2025-11-16 18:58:11,015 - __main__ - INFO - 
üìä M√âTRIQUES FINALES:
2025-11-16 18:58:11,015 - __main__ - INFO -    Train MAE: 0.0005
2025-11-16 18:58:11,015 - __main__ - INFO -    Train R¬≤:  1.0000
2025-11-16 18:58:11,016 - __main__ - INFO -    Test MAE:  0.0560
2025-11-16 18:58:11,016 - __main__ - INFO -    Test R¬≤:   0.8265
2025-11-16 19:00:32,173 - __main__ - INFO - ================================================================================
2025-11-16 19:00:32,173 - __main__ - INFO - D√âBUT DE L'ENTRA√éNEMENT DU MOD√àLE XGBOOST
2025-11-16 19:00:32,173 - __main__ - INFO - ================================================================================
2025-11-16 19:00:32,173 - __main__ - INFO - ‚úÖ Fichier .env d√©tect√© et charg√©
2025-11-16 19:00:32,174 - __main__ - INFO - ‚ÑπÔ∏è  Utilisation de la configuration par d√©faut
2025-11-16 19:00:32,174 - __main__ - INFO - Initialisation du XGBoostOccupancyPredictor
2025-11-16 19:00:32,174 - __main__ - INFO - Configuration: {'clustering_results_path': '../results/clustering_results.csv', 'indicateurs_path': '../data/Indicateurs.csv', 'prediction_horizon': 7, 'test_size': 0.2, 'random_state': 42, 'model_params': {'n_estimators': 600, 'learning_rate': 0.05, 'max_depth': 7, 'subsample': 0.9, 'colsample_bytree': 0.9, 'min_child_weight': 1, 'reg_lambda': 1.0, 'n_jobs': -1, 'random_state': 42}, 'azure_container': 'prediction-demande', 'save_to_azure': True, 'model_dir': 'results/models'}
2025-11-16 19:00:32,174 - __main__ - INFO - Chargement des donn√©es...
2025-11-16 19:00:32,186 - __main__ - INFO - Clusters charg√©s: (1415, 65)
2025-11-16 19:00:32,266 - __main__ - INFO - Indicateurs charg√©s: (86315, 15)
2025-11-16 19:00:32,266 - __main__ - INFO - Pr√©paration des donn√©es...
2025-11-16 19:00:32,315 - __main__ - INFO - PM pivot shape: (1415, 63)
2025-11-16 19:00:32,319 - __main__ - INFO - DataFrame fusionn√©: (1415, 126)
2025-11-16 19:00:33,131 - __main__ - INFO - Features PM ajout√©es: (1415, 133)
2025-11-16 19:00:33,134 - __main__ - INFO - Cr√©ation des features et target...
2025-11-16 19:00:33,135 - __main__ - INFO - Nombre de features: 64
2025-11-16 19:00:33,137 - __main__ - INFO - X shape: (1415, 64), y shape: (1415,)
2025-11-16 19:00:33,137 - __main__ - INFO - Entra√Ænement du mod√®le XGBoost...
2025-11-16 19:00:33,142 - __main__ - INFO - Train: (1132, 64), Test: (283, 64)
2025-11-16 19:00:35,899 - __main__ - INFO - Mod√®le entra√Æn√© avec succ√®s
2025-11-16 19:00:35,915 - __main__ - INFO - üìä Test MAE: 0.0560
2025-11-16 19:00:35,916 - __main__ - INFO - üìä Test R¬≤: 0.8265
2025-11-16 19:00:35,916 - __main__ - INFO - √âvaluation du mod√®le...
2025-11-16 19:00:36,509 - __main__ - INFO - üìà Graphique sauvegard√©: results\xgb_scatter_plot.png
2025-11-16 19:00:36,801 - __main__ - INFO - üìà Graphique sauvegard√©: results\xgb_feature_importance.png
2025-11-16 19:00:36,830 - __main__ - INFO - Sauvegarde locale du mod√®le dans results/models...
2025-11-16 19:00:36,870 - __main__ - INFO - üíæ Mod√®le sauvegard√©: results/models\xgb_to_predictor.joblib
2025-11-16 19:00:36,871 - __main__ - INFO - üíæ Scaler sauvegard√©: results/models\xgb_scaler.joblib
2025-11-16 19:00:36,871 - __main__ - INFO - üíæ Features sauvegard√©es: results/models\feature_columns.txt
2025-11-16 19:00:38,265 - __main__ - INFO - ================================================================================
2025-11-16 19:00:38,266 - __main__ - INFO - ‚úÖ ENTRA√éNEMENT TERMIN√â AVEC SUCC√àS
2025-11-16 19:00:38,266 - __main__ - INFO - ================================================================================
2025-11-16 19:00:38,266 - __main__ - INFO - 
üìä M√âTRIQUES FINALES:
2025-11-16 19:00:38,266 - __main__ - INFO -    Train MAE: 0.0005
2025-11-16 19:00:38,267 - __main__ - INFO -    Train R¬≤:  1.0000
2025-11-16 19:00:38,267 - __main__ - INFO -    Test MAE:  0.0560
2025-11-16 19:00:38,267 - __main__ - INFO -    Test R¬≤:   0.8265
